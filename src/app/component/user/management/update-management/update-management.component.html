<h1 mat-dialog-title class="text-center text-uppercase">Sửa thông tin nhân viên</h1>
<hr>
<div mat-dialog-content>
  <form class="form-group form-label-left input_mask" [formGroup]="formUpdateManagement"
        (ngSubmit)="editManagement()">
    <div formGroupName="account">
      <div class="form-group">
        <label>Tên tài khoản</label>
        <input type="text" class="form-control" formControlName="username" placeholder="ntna123">
        <mat-error
          *ngIf="formUpdateManagement.get('account.username')?.hasError('required') && formUpdateManagement.get('account.username')?.touched">
          Tên tài khoản không được để trống!
        </mat-error>
        <mat-error
          *ngIf="formUpdateManagement.get('account.username')?.hasError('maxLength') && formUpdateManagement.get('account.username')?.touched">
          Tên tài khoản không vượt qua 45 ký tự!
        </mat-error>
      </div>
      <input type="hidden" formControlName="password"/>
      <div class="form-group">
        <label>Quyền hạn</label>
        <select formControlName="role" class="form-control" >
          <option class="form-check-input" value="ROLE_MANAGEMENT">Nhân viên
          <option class="form-check-input" value="ROLE_ADMIN">Quản lý
        </select>
        <mat-error
          *ngIf="formUpdateManagement.get('account.role')?.hasError('required') && formUpdateManagement.get('account.role')?.touched">
          Quyền hạn không được để trống!
        </mat-error>
      </div>
    </div>
    <div class="form-group">
      <label>Họ và tên</label>
      <input type="text" class="form-control" formControlName="fullName" placeholder="Nguyễn Văn A">
      <mat-error
        *ngIf="formUpdateManagement.get('fullName')?.hasError('required') && formUpdateManagement.get('fullName')?.touched">
        Tên không được để trống!
      </mat-error>
      <mat-error
        *ngIf="formUpdateManagement.get('fullName')?.hasError('maxLength') && formUpdateManagement.get('fullName')?.touched">
        Tên không vượt qua 45 ký tự!
      </mat-error>
    </div>
    <div class="form-group">
      <label>Email</label>
      <input type="text" class="form-control" formControlName="email" placeholder="anv12@gmail.com">
      <mat-error
        *ngIf="formUpdateManagement.get('email')?.hasError('required') && formUpdateManagement.get('email')?.touched">
        Email không được để trống!
      </mat-error>
      <mat-error
        *ngIf="formUpdateManagement.get('email')?.hasError('email') && formUpdateManagement.get('email')?.touched">
        Email sai định dạng!
      </mat-error>
    </div>
    <div class="row">
      <div class="form-group col-md-6">
        <label>Ngày sinh</label>
        <input type="date" [max]="maxDay" class="form-control" formControlName="birthday">
        <mat-error
          *ngIf="formUpdateManagement.get('birthday')?.hasError('required') && formUpdateManagement.get('birthday')?.touched">
          Ngày sinh không được để trống!
        </mat-error>
      </div>
      <div class="form-group col-md-6">
        <label>Giới tính</label>
        <select formControlName="gender" class="form-control">
          <option class="form-check-input" value="MALE">Nam
          <option class="form-check-input" value="FEMALE">Nữ
          <option class="form-check-input" value="OTHER">Khác
        </select>
        <mat-error
          *ngIf="formUpdateManagement.get('gender')?.hasError('required') && formUpdateManagement.get('gender')?.touched">
          Giới tính không được để trống!
        </mat-error>
      </div>
    </div>
    <div class="row">
      <div class="form-group col-md-6">
        <label>Ảnh</label>
        <input type="file" class="form-control" (change)="selectFile($event)" formControlName="image">
      </div>
      <div class="form-group col-md-6">
        <img *ngIf="url" [src]="url" id="image" style="height: 60px">
      </div>
    </div>

    <hr>
    <div mat-dialog-actions class="justify-content-center">
      <div class="col-md-9 col-sm-9  offset-md-3">
        <button mat-button mat-dialog-close class="btn btn-secondary">Thoát</button>
        <button mat-button class="btn btn-info" type="reset">Đặt lại</button>
        <button mat-button class="btn btn-success" type="submit">Cập nhật</button>
      </div>
    </div>
  </form>
</div>

